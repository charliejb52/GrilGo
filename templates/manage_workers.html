{% extends "base.html" %}


{% block content %}
<html>
<head>
    <title>Manage Workers</title>
    <a href="{{ url_for('dashboard_manager') }}" class="btn btn-secondary">Back to calendar</a>
</head>
<body>
    <form method="POST">
        <label for="name">Worker Name:</label>
        <input type="text" name="name" required><br>

        {% for day in ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'] %}
            <fieldset>
                <legend>{{ day }}</legend>
                <label>Start:</label>
                <input type="time" name="{{ day.lower() }}_start">
                <label>End:</label>
                <input type="time" name="{{ day.lower() }}_end">
                <label>
                    <input type="checkbox" name="{{ day.lower() }}_all"> All
                </label>
            </fieldset>
        {% endfor %}

        <button type="submit">Save Worker</button>
    </form>

    <h2>Current Workers</h2>
    <ul>
        {% for worker in workers %}
            <li>
                {{ worker.name }}
                <form method="post" action="{{ url_for('delete_worker', worker_id=worker.id) }}" style="display:inline;">
                    <button type="submit" onclick="return confirm('Delete {{ worker.name }}?')">Delete</button>
                </form>
            </li>
        {% endfor %}
    </ul>
</body>
</html>
{% endblock %}