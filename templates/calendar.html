{% extends "base.html" %}

{% block content %}
    <div class="d-flex justify-content-between align-items-center mb-3">
        <a href="{{ url_for('calendar_view', month=month-1, year=year) }}" class="btn btn-outline-secondary">« Previous</a>

        <h2>{{ calendar.month_name[month] }} {{ year }}</h2>

        <a href="{{ url_for('calendar_view', month=month+1, year=year) }}" class="btn btn-outline-secondary">Next »</a>
    </div>  <table class="table table-bordered text-center">
    <thead>
      <tr>
        <th>Sun</th><th>Mon</th><th>Tue</th><th>Wed</th>
        <th>Thu</th><th>Fri</th><th>Sat</th>
      </tr>
    </thead>
    <tbody>
      {% for week in month_days %}
        <tr>
            {% for day in week %}
                <td class="align-top" style="min-height: 100px;">
                    {% if day != 0 %}
                        <strong>{{ day }}</strong><br>

                        {% if shifts_by_day[day] is defined %}
                            {% for shift in shifts_by_day[day] %}
                                <div style="font-size: 0.85em; margin-top: 2px;">
                                    {{ shift.worker.name }}<br>
                                    {{ shift.start_time.strftime('%H:%M') }} - {{ shift.end_time.strftime('%H:%M') }}
                                </div>
                            {% endfor %}
                        {% endif %}
                    {% endif %}
                </td>
            {% endfor %}
        </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock %}